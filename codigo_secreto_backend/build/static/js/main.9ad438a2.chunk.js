(this.webpackJsonpcodigo_secreto=this.webpackJsonpcodigo_secreto||[]).push([[0],{110:function(e,a){},117:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(53),o=t.n(c),l=(t(62),t(10)),i=t.n(l),d=t(15),u=(t(64),t(16)),s=t.n(u),f=function(e){return s.a.get("".concat("/api/rooms","/").concat(e))},m=function(){return s.a.post("".concat("/api/rooms"))},p=t(1),E=t(27),v=t(56),b=function(e){var a=e.card,t=e.flipCard,n="card",c="card__face card__face--back";return a.flipped&&(n="card is-flipped",console.log("team: ",a.team),c=!1===a.team?"card__face card__face--back--blue":"card__face card__face--back--red"),r.a.createElement("div",{className:"scene scene--card"},r.a.createElement("div",{className:n,onClick:t},r.a.createElement("div",{className:"card__face card__face--front"},a.word),r.a.createElement("div",{className:c},a.word)))},_=function(e){var a=e.cards,t=e.flipCard,n=a.map((function(e,a){return r.a.createElement(b,{key:a,card:e,flipCard:function(){return t(e.id)}})}));return r.a.createElement("div",{className:"board"},n)},g=t(54),h=t.n(g).a.connect("http://raspberrypi2:3001"),O=function(){var e=Object(p.g)("/rooms/:id").params.id,a=Array(25).fill({}),t=Object(n.useState)(a),c=Object(v.a)(t,2),o=c[0],l=c[1];Object(n.useEffect)((function(){console.log("effect"),f(e).then((function(e){console.log("promise fulfilled"),l(e.data.cards.map((function(e){return{word:e.word,flipped:e.visible,team:e.team,id:e._id}})))}))}),[]);var u=function(e){console.log("id:",e);var a=o.find((function(a){return a.id===e})),t=Object(E.a)({},a,{flipped:!0});console.log(t),l(o.map((function(a){return a.id!==e?a:t})))};h.on("flippedCard",u);var s=function(){var e=Object(d.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(o.map((function(e){return e.id!==a?e:Object(E.a)({},e,{flipped:!0})}))),h.emit("flippedCard",a),h.off(u);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"C\xf3digo Secreto")),r.a.createElement("div",{className:"game-board"},r.a.createElement(_,{cards:o,flipCard:s})))},C=function(){var e=Object(p.f)(),a=function(){var a=Object(d.a)(i.a.mark((function a(){var t;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("button pressed to create room"),a.next=3,m();case 3:t=a.sent,console.log(t.data.id),e.push("/rooms/".concat(t.data.id));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null," ",r.a.createElement("h2",null,"CODIGO SECRETO ONLINE")," "),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return a()}},"NEW ROOM"))))},N=function(){return r.a.createElement("div",null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/rooms/:id"},r.a.createElement(O,null)),r.a.createElement(p.a,{path:"/"}," ",r.a.createElement(C,null)," ")))},k=t(14);o.a.render(r.a.createElement(k.a,null,r.a.createElement(N,null)),document.getElementById("root"))},57:function(e,a,t){e.exports=t(117)},62:function(e,a,t){},64:function(e,a,t){}},[[57,1,2]]]);
//# sourceMappingURL=main.9ad438a2.chunk.js.map