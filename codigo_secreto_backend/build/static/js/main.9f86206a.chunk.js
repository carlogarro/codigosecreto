(this.webpackJsonpcodigo_secreto=this.webpackJsonpcodigo_secreto||[]).push([[0],{110:function(e,a){},117:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(53),o=t.n(r),l=(t(62),t(10)),i=t.n(l),d=t(15),u=(t(64),t(16)),s=t.n(u),f=function(e){return s.a.get("".concat("/api/rooms","/").concat(e))},m=function(){return s.a.post("".concat("/api/rooms"))},p=t(1),E=t(27),_=t(56),v=function(e){var a=e.card,t=e.flipCard,n="card",r="card__face card__face--back";return a.flipped&&(n="card is-flipped",console.log("team: ",a.team),r=!1===a.team?"card__face card__face--back--blue":"card__face card__face--back--red"),c.a.createElement("div",{className:"scene scene--card"},c.a.createElement("div",{className:n,onClick:t},c.a.createElement("div",{className:"card__face card__face--front"},a.word),c.a.createElement("div",{className:r},a.word)))},O=function(e){var a=e.cards,t=e.flipCard,n=a.map((function(e,a){return c.a.createElement(v,{key:a,card:e,flipCard:function(){return t(e.id)}})}));return c.a.createElement("div",{className:"board"},n)},b=t(54),C=t.n(b),N=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASEURL:"/api/rooms",REACT_APP_ENDPOINT:"/"}).ENDPOINT,g=C.a.connect(N),h=function(){var e=Object(p.g)("/rooms/:id").params.id,a=Array(25).fill({}),t=Object(n.useState)(a),r=Object(_.a)(t,2),o=r[0],l=r[1];Object(n.useEffect)((function(){console.log("effect"),f(e).then((function(e){console.log("promise fulfilled"),l(e.data.cards.map((function(e){return{word:e.word,flipped:e.visible,team:e.team,id:e._id}})))}))}),[]);var u=function(e){console.log("id:",e);var a=o.find((function(a){return a.id===e})),t=Object(E.a)({},a,{flipped:!0});console.log(t),l(o.map((function(a){return a.id!==e?a:t})))};g.on("flippedCard",u);var s=function(){var e=Object(d.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(o.map((function(e){return e.id!==a?e:Object(E.a)({},e,{flipped:!0})}))),g.emit("flippedCard",a),g.off(u);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"game"},c.a.createElement("div",{className:"header"},c.a.createElement("h1",null,"C\xf3digo Secreto")),c.a.createElement("div",{className:"game-board"},c.a.createElement(O,{cards:o,flipCard:s})))},S=function(){var e=Object(p.f)(),a=function(){var a=Object(d.a)(i.a.mark((function a(){var t;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("button pressed to create room"),a.next=3,m();case 3:t=a.sent,console.log(t.data.id),e.push("/rooms/".concat(t.data.id));case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("div",null," ",c.a.createElement("h2",null,"CODIGO SECRETO ONLINE")," "),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return a()}},"NEW ROOM"))))},T=function(){return c.a.createElement("div",null,c.a.createElement(p.c,null,c.a.createElement(p.a,{path:"/rooms/:id"},c.a.createElement(h,null)),c.a.createElement(p.a,{path:"/"}," ",c.a.createElement(S,null)," ")))},j=t(14);o.a.render(c.a.createElement(j.a,null,c.a.createElement(T,null)),document.getElementById("root"))},57:function(e,a,t){e.exports=t(117)},62:function(e,a,t){},64:function(e,a,t){}},[[57,1,2]]]);
//# sourceMappingURL=main.9f86206a.chunk.js.map